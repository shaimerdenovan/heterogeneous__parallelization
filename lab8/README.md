## Описание работы
В данной лабораторной работе №8 была реализована обработка массива данных с использованием центрального процессора (CPU), графического процессора (GPU), а также гибридного подхода, при котором вычисления выполняются одновременно на CPU и GPU.
Цель работы это сравнить производительность CPU, GPU и гибридного подхода при поэлементной обработке массива и определить, в каких случаях гибридные вычисления дают наибольший выигрыш по времени.
Исходный код программы представлен в файле lab8.cu.

## Результаты работы
#### Задание 1: Реализация обработки массива на CPU с использованием OpenMP 
Для выполнения задания был создан массив размером N=1000000 элементов типа float. Обработка массива выполнялась на CPU с использованием технологии OpenMP. Каждый элемент массива умножался на 2. Было измерено время выполнения вычислений на CPU.

#### Задание 2: Реализация обработки массива на GPU с использованием CUDA 
Для выполнения этого задания исходный массив был скопирован с CPU на GPU. Для обработки массива на GPU было реализовано CUDA-ядро, в котором каждый поток обрабатывает один элемент массива (умножение на 2). После выполнения ядра результат был скопирован обратно на CPU и дальше было измерено суммарное время выполнения, включающее копирование данных и
выполнение CUDA ядра.

#### Задание 3: Гибридная обработка массива 
Для выполнения задания №3 массив был разделен на две части. Первая половина обрабатывалась на CPU с использованием OpenMP, а вторая половина обрабатывалась на GPU с использованием CUDA. Обработка на CPU и GPU выполнялась одновременно. Было измерено общее время выполнения гибридного варианта.

#### Результаты замеров времени выполнения
- CPU(OpenMP): 0.302468 ms
- GPU(CUDA):   1.97834 ms (H2D + kernel + D2H)
- Hybrid:      1.05567 ms (wall-time)

#### Задание 4: Анализ производительности 
В конце было сравнение времени выполнения обработки массива на CPU, GPU и в гибридном режиме. Для данной задачи (умножение элементов массива) CPU показал наилучшее время выполнения, так как операция очень простая и не требует больших вычислительных затрат. GPU показал худшее время, поскольку значительную часть времени занимают накладные расходы на копирование данных между CPU и GPU. Гибридный подход оказался быстрее чистого GPU-варианта, так как на GPU обрабатывалась только половина массива, а вычисления на CPU и GPU выполнялись параллельно.

## Вывод
Гибридный подход хорошо работает, когда CPU и GPU могут считать одновременно, и при этом ни один из них не простаивает. Скорость гибридных вычислений зависит от того, насколько большой массив, насколько сложные вычисления и сколько времени занимает копирование данных между CPU и GPU. Для простых операций и небольших массивов использовать GPU невыгодно, так как время на копирование данных больше, чем само вычисление. Гибридный подход позволяет уменьшить общее время работы программы за счёт того, что CPU и GPU работают параллельно, а не по очереди.

## Ответы на контрольные вопросы
1. Какие преимущества предоставляют гибридные вычисления?
Гибридные вычисления позволяют использовать и CPU, и GPU одновременно. Это помогает быстрее выполнять задачи и лучше загружать вычислительные ресурсы компьютера.

2. Как минимизировать накладные расходы при передаче данных между CPU и GPU?
Чтобы уменьшить накладные расходы, нужно реже копировать данные между CPU и GPU, по возможности оставлять данные на GPU, использовать асинхронное копирование, передавать только те данные, которые действительно нужны.

3. Какие задачи лучше выполнять на CPU, а какие — на GPU?
На CPU лучше выполнять задачи с небольшими объёмами данных и сложной логикой. На GPU лучше выполнять задачи с большим количеством одинаковых операций, например обработку больших массивов или векторов.

4. Как можно улучшить производительность гибридного приложения?
Производительность можно улучшить, если правильно разделить работу между CPU и GPU, выполнять вычисления и копирование данных параллельно, уменьшить объём передаваемых данных, оптимизировать CUDA ядра и настройки запуска.
